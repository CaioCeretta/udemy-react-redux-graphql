"use strict";(self.webpackChunkcrwn_clothing_2=self.webpackChunkcrwn_clothing_2||[]).push([[576],{490:(e,n,t)=>{t.d(n,{a:()=>a,c:()=>c});t(60);var r=t(496);let a=function(e){return e.base="base",e.google="google-sign-in",e.inverted="inverted",e}({});function c(e){let{paymentLoading:n,type:t,isPayment:a=!1,children:c,buttonType:i="base",...s}=e;return(0,r.jsx)("button",{type:t,disabled:n,className:"".concat(a?"payment-button":""," button-container\n    ").concat("base"===i?"":i),...s,children:c})}},576:(e,n,t)=>{t.r(n),t.d(n,{Checkout:()=>f});var r=t(60),a=t(336),c=t(992),i=t(96),s=t(496);const o=e=>{let{cartItem:n}=e;const t=(0,c.OY)(),r=(0,c.w1)(a._e);return(0,s.jsxs)("div",{className:"checkout-item-container",children:[(0,s.jsx)("div",{className:"image-container",children:(0,s.jsx)("img",{src:n.imageUrl,alt:n.name})}),(0,s.jsx)("span",{className:"name",children:n.name}),(0,s.jsxs)("span",{className:"quantity",children:[(0,s.jsx)("button",{onClick:()=>t((0,i.Ar)(r,n)),className:"arrow",children:"\u276e"}),(0,s.jsx)("span",{className:"value",children:n.quantity}),(0,s.jsx)("button",{onClick:()=>t((0,i.Yb)(r,n)),className:"arrow",children:"\u276f"})]}),(0,s.jsx)("span",{className:"price",children:n.price}),(0,s.jsx)("div",{className:"remove=button",children:(0,s.jsx)("span",{onClick:()=>t((0,i.IV)(r,n)),children:"\u2715 "})})]})};var u=t(108),l=t(716),d=t(490);const p=()=>{const e=(0,u.useStripe)(),n=(0,u.useElements)(),t=(0,c.w1)(a.sh),i=(0,c.w1)(l.c),[o,p]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"payment-form-container",children:(0,s.jsxs)("form",{className:"form-container",onSubmit:async r=>{if(r.preventDefault(),!e||!n)return;p(!0);const a=(await fetch("/.netlify/functions/create-payment-intent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100*t})}).then((e=>e.json()))).paymentIntent.client_secret,c=n.getElement(u.CardElement);if(!c)return;const s=await e.confirmCardPayment(a,{payment_method:{card:c,billing_details:{name:i?i.displayName:"Caio Ceretta"}}});null!==c&&(p(!1),s.error?alert(s.error.message):"succeeded"===s.paymentIntent.status&&alert("Payment Successful!"))},children:[(0,s.jsx)("h2",{children:"Credit Card Payment:"}),(0,s.jsx)(u.CardElement,{}),(0,s.jsx)(d.c,{type:"submit",buttonType:d.a.inverted,paymentLoading:o,isPayment:!0,children:"Pay Now"})]})})};function f(){const e=(0,c.w1)(a._e),n=(0,c.w1)(a.sh);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"checkout-container",children:[(0,s.jsxs)("div",{className:"checkout-header",children:[(0,s.jsx)("div",{className:"header-block",children:(0,s.jsx)("span",{children:"Product"})}),(0,s.jsx)("div",{className:"header-block",children:(0,s.jsx)("span",{children:"Description"})}),(0,s.jsx)("div",{className:"header-block",children:(0,s.jsx)("span",{children:"Quantity"})}),(0,s.jsx)("div",{className:"header-block",children:(0,s.jsx)("span",{children:"Price"})}),(0,s.jsx)("div",{className:"header-block",children:(0,s.jsx)("span",{children:"Remove"})})]}),e.map((e=>(0,s.jsx)(o,{cartItem:e},e.id))),(0,s.jsxs)("span",{className:"total",children:["Total: $ ",n]}),(0,s.jsx)(p,{})]})})}},336:(e,n,t)=>{t.d(n,{Yc:()=>i,_e:()=>c,sJ:()=>s,sh:()=>o});var r=t(368);const a=e=>e.cart,c=(0,r.M3)([a],(e=>e.cartItems)),i=(0,r.M3)([a],(e=>e.isCartOpen)),s=(0,r.M3)([c],(e=>e.reduce(((e,n)=>e+n.quantity),0))),o=(0,r.M3)([c],(e=>e.reduce(((e,n)=>e+n.quantity*n.price),0)))},716:(e,n,t)=>{t.d(n,{c:()=>r});const r=(0,t(368).M3)((e=>e.user),(e=>e.currentUser))},368:(e,n,t)=>{t.d(n,{M3:()=>s});var r="NOT_FOUND";var a=function(e,n){return e===n};function c(e,n){var t="object"===typeof n?n:{equalityCheck:n},c=t.equalityCheck,i=void 0===c?a:c,s=t.maxSize,o=void 0===s?1:s,u=t.resultEqualityCheck,l=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}}(i),d=1===o?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var t=[];function a(e){var a=t.findIndex((function(t){return n(e,t.key)}));if(a>-1){var c=t[a];return a>0&&(t.splice(a,1),t.unshift(c)),c.value}return r}return{get:a,put:function(n,c){a(n)===r&&(t.unshift({key:n,value:c}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(o,l);function p(){var n=d.get(arguments);if(n===r){if(n=e.apply(null,arguments),u){var t=d.getEntries().find((function(e){return u(e.value,n)}));t&&(n=t.value)}d.put(arguments,n)}return n}return p.clearCache=function(){return d.clear()},p}function i(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var c,i=0,s={memoizeOptions:void 0},o=r.pop();if("object"===typeof o&&(s=o,o=r.pop()),"function"!==typeof o)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof o+"]");var u=s.memoizeOptions,l=void 0===u?t:u,d=Array.isArray(l)?l:[l],p=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}(r),f=e.apply(void 0,[function(){return i++,o.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],n=p.length,t=0;t<n;t++)e.push(p[t].apply(null,arguments));return c=f.apply(null,e)}));return Object.assign(m,{resultFunc:o,memoizedResultFunc:f,dependencies:p,lastResult:function(){return c},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m}}var s=i(c)}}]);
//# sourceMappingURL=576.0cca0606.chunk.js.map